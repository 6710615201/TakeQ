{% extends "base.html" %}

{% block title %}Take: {{ quiz.title }}{% endblock %}

{% block content %}
<h2>{{ quiz.title }}</h2>
<p>{{ quiz.description }}</p>

<form method="post" action="{% url 'take_quiz:submit_quiz' attempt.id %}">
  {% csrf_token %}

  {% for q in questions %}
    <div class="card my-3">
      <div class="card-body">
        <h5>Q{{ forloop.counter }}. {{ q.text }}</h5>

        {% if q.qtype == "mcq" %}
          {% for c in q.choices.all %}
            <div class="form-check">
              <input class="form-check-input" type="radio" name="question_{{ q.id }}" id="choice_{{ c.id }}" value="{{ c.id }}">
              <label class="form-check-label" for="choice_{{ c.id }}">
                {{ c.text }}
              </label>
            </div>
          {% endfor %}
        {% else %}
          <textarea class="form-control" name="question_{{ q.id }}" rows="3"></textarea>
        {% endif %}

      </div>
    </div>
  {% endfor %}

  <button class="btn btn-success" type="submit">Submit</button>
</form>
{% endblock %}
