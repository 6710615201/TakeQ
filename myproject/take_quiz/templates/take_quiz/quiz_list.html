{% extends "base.html" %}

{% block title %}<title>Available Quizzes</title>{% endblock %}

{% block content %}
<h2>Available quizzes</h2>
<div class="list-group">
  {% for quiz in quizzes %}
    <div class="list-group-item d-flex justify-content-between align-items-center">
      <div>
        <h5>{{ quiz.title }}</h5>
        <p class="mb-1">{{ quiz.description|truncatechars:120 }}</p>
        <small>
          {% if quiz.creator %}By {{ quiz.creator.username }}{% else %}By (unknown){% endif %}
           â€¢ {{ quiz.created_at|date:"Y-m-d" }}
        </small>
      </div>
      <div>
        {% if quiz.id in attempted_quiz_ids %}
          <button class="btn btn-secondary" disabled>Already taken</button>
        {% else %}
          <a class="btn btn-primary" href="{% url 'take_quiz:start_quiz' quiz.id %}">Start</a>
        {% endif %}
      </div>
    </div>
  {% empty %}
    <p>No quizzes available.</p>
  {% endfor %}
</div>
{% endblock %}
